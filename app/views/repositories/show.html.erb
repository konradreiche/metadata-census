<h1>Repository Report</h1>
<h2><%= @repository.name %></h2>
<%= render partial: 'shared/repository_breadcrumb', locals: { :path => :repository_path } %>
<div class="dashboard row">
  <div class="col-md-4 col-md-offset-1">
    <div class="repository score-meter"></div>
  </div>
  <div class="col-md-2">
    <a data-toggle="modal" class="btn btn-default" href="#weighting-modal">Weighting</a>
  </div>
</div>
<!-- Modal for metric score weighting -->
<div class="modal fade" id="weighting-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Metric Score Weighting</h4>
      </div>
      <div class="modal-body">
        <form class="form-horizontal" role="form">
          <% Metrics.all.each do |metric| %>
            <div class="form-group">
              <%= content_tag(:label, metric.to_s.titlecase, for: metric, class: 'col-md-4 control-label') %>
              <div class="col-md-8">
                <%= tag(:input, type: 'number', class: 'form-control', id: metric, placeholder: '1.0') %>
              </div>
            </div>
          <% end %>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal">Save changes</button>
      </div>
    </div> <!-- /.modal-content -->
  </div> <!-- /.modal-dialog -->
</div> <!-- /.modal -->
<div class="dashboard row">
  <div class="col-md-10 col-md-offset-1">
    <table class="repository metric table table-striped">
      <thead>
        <tr>
          <th>Metric</th>
          <th>Weighting</th>
          <th>Quality</th>
          <th>Analysis</th>
        </tr>
      </thead>
      <tbody>
        <% Metrics.all.each do |metric| %>
          <tr>
            <td><%= metric.to_s.titlecase %></td>
            <td><input type="range"></td>
            <td><%= metric_score(metric) %></td>
            <td><%= create_metric_analysis_button(metric) %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
